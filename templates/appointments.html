{% extends "base.html" %}

{% block title %} Book an Appointment - Aarogya Hastha{% endblock %}

{% block content %}
<style>
    /* Styling for the breadcrumb navigation */
    .breadcrumb-section {
        padding: 15px 200px;
        background-color: #f8f9fa;
        border-bottom: 1px solid #dee2e6;
    }

    .breadcrumb {
        margin-bottom: 0;
        background-color: transparent;
        padding: 0;
    }

    .breadcrumb-item a {
        color: #007bff;
        text-decoration: none;
    }

    .breadcrumb-item a:hover {
        text-decoration: underline;
    }

    .breadcrumb-item.active {
        color: #6c757d;
    }

    .breadcrumb-item+.breadcrumb-item::before {
        content: ">>";
        padding: 0 0.75rem;
        color: #6c757d;
    }

    /* Styling for a seamless, full-page iframe experience */
    .appointment-page-section {
        padding: 0;
    }

    .appointment-iframe-wrapper {
        width: 100%;
        overflow: hidden;
    }

    #appointment-page-iframe {
        width: 100%;
        height: 100%;
        border: none;
    }

    /* Hide footer and scroll-to-top button to prevent scrolling issues */
    .site-footer,
    .scroll-to-top-btn {
        display: none !important;
    }
</style>

<section class="breadcrumb-section" id="breadcrumb-nav">
    <div class="container-fluid">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">Appointments</li>
            </ol>
        </nav>
    </div>
</section>

<section class="appointment-page-section">
    <div class="container-fluid">
        <div class="appointment-iframe-wrapper">
            <iframe id="appointment-page-iframe" src="https://app.fyndbetter.com/ahh_apt"
                title="Appointment Booking Form">
            </iframe>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // This script dynamically adjusts the iframe height to create a seamless, single-scroll experience.

        function resizeIframe() {
            const header = document.querySelector('.new-header');
            const breadcrumbs = document.getElementById('breadcrumb-nav');
            const iframeWrapper = document.querySelector('.appointment-iframe-wrapper');

            if (header && breadcrumbs && iframeWrapper) {
                const headerHeight = header.offsetHeight;
                const breadcrumbsHeight = breadcrumbs.offsetHeight;

                // Calculate the total height of fixed elements at the top (header + breadcrumbs)
                const totalOffset = headerHeight + breadcrumbsHeight;

                const availableHeight = window.innerHeight - totalOffset;

                // Set the wrapper's height to fill the exact remaining vertical space
                iframeWrapper.style.height = availableHeight + 'px';
            }
        }

        // Adjust the iframe height on initial page load
        resizeIframe();

        // Add a resize event listener to handle screen size changes
        window.addEventListener('resize', resizeIframe);
    });
</script>
{% endblock %}